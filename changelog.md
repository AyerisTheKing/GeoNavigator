# –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## v13.3 (Patch: Audit Fixes)

**–î–∞—Ç–∞:** 31.01.2026

### üõ† –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (Fixed)

- **Registration**: –£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ –∏ –±—É–∫–≤—ã. –¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "5-–ë". –ò—Å–∫–ª—é—á–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ `null` –∏–ª–∏ `undefined` –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –≤—ã–±–æ—Ä–µ.
- **Role System**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π (`safe check`) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º `null`.
- **Observer Mode**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" –º–æ–≥–ª–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å –∏–ª–∏ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —á—É–∂–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è. –¢–µ–ø–µ—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ì–æ—Å—Ç—å –∏–ª–∏ –ò–≥—Ä–æ–∫).
- **Localization**: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –ø–æ–ª–µ–π "–ö–ª–∞—Å—Å", "–ë—É–∫–≤–∞" –∏ –º–µ–Ω—é —Ä–æ–ª–µ–π.
- **Cleanup**: –£–¥–∞–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ `console.log` –∏–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.

## v13.3

- **UI**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–æ –º–µ–Ω—é —Ä–æ–ª–µ–π.
- **UI**: –ö–Ω–æ–ø–∫–∞ —Ä–æ–ª–µ–π –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª (–ì–∞–º–±—É—Ä–≥–µ—Ä-–º–µ–Ω—é).
- **UI**: –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –º–µ–Ω—é (Neon/Glassmorphism).
- **Code**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –º–µ–Ω—é.

## v13.2 (Feature: Roles & Classes)

### Roles & Admin

- **Role System**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π `admin`, `teacher`, `tester` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `user`).
- **Role Menu**: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –º–µ–Ω—é –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Å–∫—Ä—ã—Ç–æ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤).
- **Viewer Mode**: –†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (Read-Only).

### Registration

- **Class Selection**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ (–¶–∏—Ñ—Ä–∞ + –ë—É–∫–≤–∞) –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- **Database**: –ù–æ–≤—ã–µ –ø–æ–ª—è `role` –∏ `class_name` –≤ —Ç–∞–±–ª–∏—Ü–µ `profiles`.

## v12.9 (Patch: Strict Russian Localization)

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

- **Strict Mode**: "–ì–µ—Ä–º–µ—Ç–∏–∑–∞—Ü–∏—è" –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏. –£–±—Ä–∞–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏.
- **Diff**: –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ–ø–µ—Ä—å: "–õ–µ–≥–∫–æ", "–ù–æ—Ä–º–∞–ª—å–Ω–æ", "–°–ª–æ–∂–Ω–æ", "–≠–∫—Å—Ç—Ä–∏–º".
- **Validation**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã –æ—à–∏–±–æ–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

## v12.8 (Patch: Auto-Zoom Logic)

### –ì–µ–π–º–ø–ª–µ–π

- **Auto-Zoom**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑—É–º–∞ –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ.
  - –¢–µ–ø–µ—Ä—å –∫–∞–º–µ—Ä–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω—É –∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (`countryByCapitalText`).
  - –ó—É–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω –≤ —Ä–µ–∂–∏–º–µ "–°–∞–º—ã–π-—Å–∞–º—ã–π" (`theMost`).
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (Zoom: Hard=True, Extreme=False).

## v12.7 (Feature: Ban System)

### Data

- **SQL**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `is_banned` –≤ —Ç–∞–±–ª–∏—Ü—É `profiles`.
  ```sql
  ALTER TABLE profiles ADD COLUMN IF NOT EXISTS "is_banned" BOOLEAN DEFAULT FALSE;
  ```

### Logic

- **Auth**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Script Check).
- **Leaderboard**: –°–∫—Ä—ã—Ç–∏–µ –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤.

## v12.5 (Patch: Map UI & Visibility)

### UI

- **–ö–∞—Ä—Ç–∞**: –°–∫—Ä—ã—Ç—ã –ª–∏—à–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑—É–º–æ–º –∏ –∫–æ–ø–∏—Ä–∞–π—Ç—ã –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
- **–ú–µ—Ç–∫–∏**: –¢–µ–ø–µ—Ä—å –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—è—Ö Easy –∏ Normal –∫–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω –∏ –≥–æ—Ä–æ–¥–æ–≤ (Dark All), –∞ –Ω–∞ Hard/Extreme –æ–Ω–∞ –æ—Å—Ç–∞–µ—Ç—Å—è "—Å–ª–µ–ø–æ–π" (Dark NoLabels).

## v12.4

### UI & Config

- **–°–º–µ–Ω–∞ —è–∑—ã–∫–∞**: –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ —Å–∫—Ä—ã—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.
- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## v12.3 (Hotfix)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å `SUPABASE_KEY` (–±—ã–ª–∞ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ).

## v12.2

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `this.saveStats is not a function`. –ú–µ—Ç–æ–¥ `saveStats` —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞.

## v12.0 (Major Update)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î.
- –î–æ–±–∞–≤–ª–µ–Ω—ã JSONB –∫–æ–ª–æ–Ω–∫–∏: `stat_easy`, `stat_normal`, `stat_hard`, `stat_extreme`, `recent_games`.
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `total_correct`.
- –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –∫–æ–ª–æ–Ω–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (`saveGameStats`).
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ Read-Modify-Write –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è JSONB –¥–∞–Ω–Ω—ã—Ö.
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã –Ω–∞ –ø–æ–ª—è –ë–î.

## v11.9

### –ù–æ–≤–æ–µ

- **–ù–æ–≤—ã–π —Ä–µ–∂–∏–º**: –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º "–°–∞–º—ã–π-—Å–∞–º—ã–π" (The Most).
- **–ö–æ–Ω—Ç–µ–Ω—Ç**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ (`the_most.geo.json`).
- **–ì–µ–π–º–ø–ª–µ–π**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤, –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è —Ä–µ–∂–∏–º–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤.

## v11.8 (Security Update)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **SQL Constraints**: –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (email check, min length).
- **Input Validation**: –í–≤–µ–¥–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (Regex –¥–ª—è –ª–æ–≥–∏–Ω–∞/–Ω–∏–∫–∞).
- **XSS Protection**: –ú–µ—Ç–æ–¥—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (`innerHTML`) –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ (`textContent`) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## v11.5

### UI/UX

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö (–∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥").
- –û–±–Ω–æ–≤–ª–µ–Ω –¥–∏–∑–∞–π–Ω –∫–Ω–æ–ø–æ–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ.

## v11.2

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ –æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç–∏.
- –ü–µ—Ä–µ–Ω–æ—Å –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `CHANGELOG.md`.

## v11.1

### UI

- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤:
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤".
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Refresh).
  - –£–±—Ä–∞–Ω —Ç–µ–∫—Å—Ç "Loading...".

## v11.0

### Features

- **–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –∏–≥—Ä.
- **–ü—Ä–æ—Ñ–∏–ª—å**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∏–∫–∞ –≤–º–µ—Å—Ç–æ –ª–æ–≥–∏–Ω–∞.

## v10.4

### Fixes

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ "Zombie-account" (–æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è).
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫—Ä–µ—à –∫–∞—Ä—Ç—ã (NaN LatLng).
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (–∫–æ–Ω—Ñ–ª–∏–∫—Ç login/nickname).
